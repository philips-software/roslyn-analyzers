name: Markdown Links
on:
  pull_request:
    branches:
      - main
    paths:
      - 'Documentation/**'
jobs:
  format:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@93cb6efe18208431cddfb8368fd83d5badbf9bfd # v5
      - name: Check Markdown Links
        id: markdown-link-check
        uses: gaurav-nelson/github-action-markdown-link-check@9710f0fec812ce0a3b98bef4c9d842fc1f39d976 # ratchet:gaurav-nelson/github-action-markdown-link-check@1.0.13
        with:
          config-file: .github/linters/markdown-link-check.json
          use-quiet-mode: 'yes'
      
      - name: Show Success Summary
        if: success()
        run: |
          echo "::notice::✅ All markdown links are valid! No dead links found."
      
      - name: Show Debugging Instructions
        if: failure() && steps.markdown-link-check.outcome == 'failure'
        run: |
          echo "::error::❌ MARKDOWN LINK CHECK FAILED ❌"
          echo "::error::Dead links were found in the markdown files."
          echo "::error::Look for '[✗]' or 'dead link' in the output above to find the specific broken links."
          echo "::error::Common causes: broken URLs, typos in links, or temporarily unavailable websites."
