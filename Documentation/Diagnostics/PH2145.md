# PH2145: Prefer interpolated strings over string.Format

| Property | Value  |
|--|--|
| Package | [Philips.CodeAnalysis.MaintainabilityAnalyzers](https://www.nuget.org/packages/Philips.CodeAnalysis.MaintainabilityAnalyzers) |
| Diagnostic ID | PH2145 |
| Category  | [Readability](../Readability.md) |
| Analyzer | [PreferInterpolatedStringAnalyzer](https://github.com/philips-software/roslyn-analyzers/blob/main/Philips.CodeAnalysis.MaintainabilityAnalyzers/Readability/PreferInterpolatedStringAnalyzer.cs)
| CodeFix  | No |
| Severity | Error |
| Enabled By Default | Yes |

## Introduction

Prefer interpolated strings over `string.Format` calls with simple placeholders for better readability and reduced error-proneness.

## How to solve

Replace `string.Format` calls that use simple placeholders like `{0}`, `{1}`, etc. with interpolated strings.

## Example

Code that triggers a diagnostic:
``` cs
class BadExample
{
    public void BadMethod()
    {
        int num = 42;
        string name = "World";
        
        // Case 1: Interpolated string preferred
        string str1 = string.Format("Hello {0}, this is number {1}", name, num);
        
        // Case 2: Unnecessary string.Format call
        string str2 = string.Format("Simple string with no placeholders");
    }
}

```

And the replacement code:
``` cs
class GoodExample
{
    public void GoodMethod()
    {
        int num = 42;
        string name = "World";
        
        // Case 1: Use interpolated string
        string str1 = $"Hello {name}, this is number {num}";
        
        // Case 2: Use simple string literal
        string str2 = "Simple string with no placeholders";
    }
}

```

## What it ignores

The analyzer is conservative and only suggests conversion in safe cases:

- **Format specifiers**: `string.Format("Value: {0:N2}", value)` - requires more complex conversion logic
- **Non-literal format strings**: `string.Format(formatVariable, args)` - can't analyze statically

## Configuration

This analyzer does not offer any special configuration. The general ways of [suppressing](https://learn.microsoft.com/en-us/dotnet/fundamentals/code-analysis/suppress-warnings) diagnostics apply.