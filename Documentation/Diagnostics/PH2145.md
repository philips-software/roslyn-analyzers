# PH2145: Avoid string.Format in interpolated string

| Property | Value  |
|--|--|
| Package | [Philips.CodeAnalysis.MaintainabilityAnalyzers](https://www.nuget.org/packages/Philips.CodeAnalysis.MaintainabilityAnalyzers) |
| Diagnostic ID | PH2145 |
| Category  | [Maintainability](../Maintainability.md) |
| Analyzer | [AvoidStringFormatInInterpolatedStringAnalyzer](https://github.com/philips-software/roslyn-analyzers/blob/main/Philips.CodeAnalysis.MaintainabilityAnalyzers/Maintainability/AvoidStringFormatInInterpolatedStringAnalyzer.cs)
| CodeFix  | Yes |
| Severity | Info |
| Enabled By Default | No |

## Introduction

Using `string.Format` within interpolated strings is redundant and can be simplified by using direct interpolation.

## How to solve

Replace `string.Format` calls inside interpolated strings with direct interpolation of the variables.

## Example

Code that triggers a diagnostic:
``` cs
class BadExample
{
    public void BadMethod()
    {
        var firstName = "John";
        var lastName = "Doe";
        var result = $"Hello {string.Format("{0} {1}", firstName, lastName)}";
        
        var name = "John";
        var age = 30;
        var message = $"User info: {string.Format("Name: {0}, Age: {1}", name, age)}";
    }
}
```

And the simplified replacement:
``` cs
class GoodExample
{
    public void GoodMethod()
    {
        var firstName = "John";
        var lastName = "Doe";
        var result = $"Hello {firstName} {lastName}";
        
        var name = "John";
        var age = 30;
        var message = $"User info: Name: {name}, Age: {age}";
    }
}
```

## Configuration

This analyzer is disabled by default. The general ways of [suppressing](https://learn.microsoft.com/en-us/dotnet/fundamentals/code-analysis/suppress-warnings) diagnostics apply.