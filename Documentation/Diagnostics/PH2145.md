# PH2145: Avoid string.Join in interpolated string

| Property | Value  |
|--|--|
| Package | [Philips.CodeAnalysis.MaintainabilityAnalyzers](https://www.nuget.org/packages/Philips.CodeAnalysis.MaintainabilityAnalyzers) |
| Diagnostic ID | PH2145 |
| Category  | [Maintainability](../Maintainability.md) |
| Analyzer | [AvoidStringJoinInInterpolatedStringAnalyzer](https://github.com/philips-software/roslyn-analyzers/blob/main/Philips.CodeAnalysis.MaintainabilityAnalyzers/Maintainability/AvoidStringJoinInInterpolatedStringAnalyzer.cs)
| CodeFix  | No |
| Severity | Info |
| Enabled By Default | No |

## Introduction

Using `string.Join` within interpolated strings can sometimes be simplified and made more readable by using alternative approaches.

## How to solve

Consider simplifying the string construction by using alternative methods such as:
- Direct interpolation with collection elements
- LINQ methods for string building
- Traditional string concatenation if appropriate

## Example

Code that triggers a diagnostic:
``` cs
class BadExample
{
    public void BadMethod()
    {
        var items = new[] { "apple", "banana", "cherry" };
        var result = $"Items: {string.Join(", ", items)}";
        
        var reasons = new[] { "Error 1", "Error 2" };
        var message = $@"Command failed. Reasons:{string.Join(Environment.NewLine, reasons)}";
    }
}
```

And potential replacement approaches:
``` cs
class GoodExample
{
    public void GoodMethod()
    {
        var items = new[] { "apple", "banana", "cherry" };
        var result = "Items: " + string.Join(", ", items); // Move out of interpolation
        
        var reasons = new[] { "Error 1", "Error 2" };
        var message = "Command failed. Reasons:" + Environment.NewLine + string.Join(Environment.NewLine, reasons);
    }
}
```

## Configuration

This analyzer is disabled by default. The general ways of [suppressing](https://learn.microsoft.com/en-us/dotnet/fundamentals/code-analysis/suppress-warnings) diagnostics apply.