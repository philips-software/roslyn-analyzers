# PH2147: Avoid variables named exactly '_'

| Property | Value  |
|--|--|
| Package | [Philips.CodeAnalysis.MaintainabilityAnalyzers](https://www.nuget.org/packages/Philips.CodeAnalysis.MaintainabilityAnalyzers) |
| Diagnostic ID | PH2147 |
| Category  | [Naming](../Naming.md) |
| Analyzer | [AvoidVariableNamedUnderscoreAnalyzer](https://github.com/philips-software/roslyn-analyzers/blob/main/Philips.CodeAnalysis.MaintainabilityAnalyzers/Naming/AvoidVariableNamedUnderscoreAnalyzer.cs)
| CodeFix  | No |
| Severity | Error |
| Enabled By Default | Yes |

## Introduction

This rule flags variables (local variables, foreach variables, for loop variables, using variables, and out parameters) that are named exactly `_` (single underscore). This rule does not flag proper C# discards (both anonymous discards `_` and typed discards like `string _`).

## Reason

Variables named exactly `_` can be confused with C# discards. This can lead to unintended behavior where developers think they are using a discard but are actually creating a variable that captures the value.

## How to fix violations

Either use a proper discard (if you don't need the value) or use a more descriptive variable name (if you do need the value).

## Examples

### Incorrect

```csharp
// Local variable - looks like discard but is actually a variable
byte[] _ = ExtractData(reader);

// ForEach variable - confusing
foreach (var _ in items)
{
    // code
}

// Out parameter with explicit variable named _ - confusing
if (int.TryParse(input, out var _))
{
    // The variable _ captures the value but looks like a discard
}
```

### Correct

```csharp
// Use a proper discard if you don't need the value
_ = ExtractData(reader);

// Or use a descriptive name if you do need the value
byte[] data = ExtractData(reader);

// ForEach with discard
foreach (var _ in items)
{
    // Use discard syntax instead
}

// Use proper discards - these are NOT flagged by this rule
if (int.TryParse(input, out _))  // Anonymous discard
{
    // code
}

if (int.TryParse(input, out int _))  // Typed discard
{
    // code
}

// Or use a descriptive name if you need the value
if (int.TryParse(input, out int result))
{
    // code using result
}
```

## Configuration

This rule is enabled by default with Error severity.

## Suppression

```csharp
[SuppressMessage("Philips.CodeAnalysis.MaintainabilityAnalyzers", "PH2147:Avoid variables named exactly '_'", Justification = "Reviewed.")]
```