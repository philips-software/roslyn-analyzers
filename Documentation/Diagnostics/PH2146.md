# PH2146: Test should use DisplayName or Description attribute instead of comments

| Property | Value  |
|--|--|
| Package | [Philips.CodeAnalysis.MsTestAnalyzers](https://www.nuget.org/packages/Philips.CodeAnalysis.MsTestAnalyzers) |
| Diagnostic ID | PH2146 |
| Category  | [MsTest](../MsTest.md) |
| Analyzer | [TestShouldUseDisplayNameAnalyzer](https://github.com/philips-software/roslyn-analyzers/blob/main/Philips.CodeAnalysis.MsTestAnalyzers/TestShouldUseDisplayNameAnalyzer.cs)
| CodeFix  | No |
| Severity | Info |
| Enabled By Default | Yes |

## Introduction

Test methods and DataRow attributes often contain inline comments that describe their purpose, but these comments are not visible in test runners. MSTest provides better alternatives: `Description` attribute for test methods and `DisplayName` parameter for DataRow attributes.

## How to solve

For test methods with meaningful comments, add a `Description` attribute instead of using inline comments.

For DataRow attributes with meaningful comments, add a `DisplayName` parameter instead of using inline comments.

## Example

Code that triggers a diagnostic:
``` cs
[TestClass]
public class TestClass
{
    // This test verifies that addition works correctly
    [TestMethod]
    public void TestAddition() { }

    [DataTestMethod]
    [DataRow(1, 2)] // Should add positive numbers
    [DataRow(-1, 1)] // Should handle negative numbers
    public void TestAdditionWithData(int a, int b) { }
}
```

And the replacement code:
``` cs
[TestClass]
public class TestClass
{
    [TestMethod]
    [Description("This test verifies that addition works correctly")]
    public void TestAddition() { }

    [DataTestMethod]
    [DataRow(1, 2, DisplayName = "Should add positive numbers")]
    [DataRow(-1, 1, DisplayName = "Should handle negative numbers")]
    public void TestAdditionWithData(int a, int b) { }
}
```

## Configuration

This analyzer does not offer any special configuration. The general ways of [suppressing](https://learn.microsoft.com/en-us/dotnet/fundamentals/code-analysis/suppress-warnings) diagnostics apply.